generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["referentialIntegrity"]
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

model Images {
  id          Int    @id @default(autoincrement())
  name        String @db.Text
  type        String @db.Text
  book        Books?  @relation("BookImages", fields: [idBook], references: [id])
  idBook      Int    
  @@index([idBook])
}

model Books {
  id          Int    @id @default(autoincrement())
  title       String @db.Text
  imagepaths  Images[] @relation("BookImages")
  path        String @db.Text
  description String @db.Text
  categorie   Categories? @relation(fields: [idCategory], references: [id])
  user        Users? @relation(fields: [idUser], references: [id])
  idCategory  Int  @unique
  idUser      Int
  @@index([idUser])
}

model Categories {
  id          Int    @id @default(autoincrement()) 
  name        String @db.Text
  book        Books?
}

model Users {
  id          Int    @id @default(autoincrement())
  photo       String @db.Text
  name        String @db.Text
  email       String @db.Text
  password    String @db.Text
  permision   Int    @db.Int
  book        Books[]
}
